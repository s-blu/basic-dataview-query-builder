import{u as f,D as S}from"./dqb-dataviewQuery-CXwaBT3J.js";import{_ as p,c as $,a as r,r as k,b as d,o as i,w as Q,m as y,d as q,e as s,f as v,t as _,g as b,n as D,h as E,v as B,F as g,i as x}from"./index-Dphz3WSS.js";const C={props:{disabled:Boolean,to:String,disabledBecause:String},methods:{clicked(){this.$emit("clicked")}}},I=["title"];function N(t,e,n,m,l,o){const a=d("router-link");return!n.disabled&&n.to?(i(),$(a,{key:0,to:n.to||"",class:"button"},{default:Q(()=>[k(t.$slots,"default")]),_:3},8,["to"])):n.disabled?(i(),r("button",{key:2,class:"button",disabled:"true",title:n.disabledBecause},[k(t.$slots,"default")],8,I)):(i(),r("button",{key:1,class:"button",onClick:e[0]||(e[0]=(...c)=>o.clicked&&o.clicked(...c))},[k(t.$slots,"default")]))}const j=p(C,[["render",N]]),F={props:["hideSubtitle"],computed:{...y(f,["questionsLength","questions","currentQuestionIndex","currentQuestion","isLastQuestion"]),isFirstQuestion(){return this.currentQuestionIndex===0},currentAnswer(){return this.currentQuestion.selected||{}}},methods:{...q(f,["moveForward","moveBack"]),next(){this.isLastQuestion?this.$router.push("/result"):this.moveForward()||this.$router.push("/result")}},components:{DqbRouterButton:j}},L={class:"navigation columns is-mobile"},O={class:"column"},V={class:"questionprogress column is-centered is-hidden-touch"},M={key:0},H={class:"column"};function U(t,e,n,m,l,o){const a=d("dqb-router-button");return i(),r("nav",L,[s("div",O,[v(a,{onClicked:e[0]||(e[0]=c=>t.moveBack()),disabled:o.isFirstQuestion,disabledBecause:"No previous questions available"},{default:Q(()=>e[2]||(e[2]=[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-arrow-left"})],-1),s("span",null,"Previous",-1)])),_:1},8,["disabled"])]),s("div",V,[n.hideSubtitle?b("",!0):(i(),r("span",M,_(t.currentQuestion.subtitle),1))]),s("div",H,[v(a,{onClicked:e[1]||(e[1]=c=>o.next()),disabled:o.currentAnswer.dataview===void 0,disabledBecause:"Please select an answer first!",class:"is-pulled-right"},{default:Q(()=>[s("span",null,_(t.isLastQuestion?"Show result":"Next"),1),e[3]||(e[3]=s("span",{class:"icon"},[s("i",{class:"fa-solid fa-arrow-right"})],-1))]),_:1},8,["disabled"])])])}const z=p(F,[["render",U],["__scopeId","data-v-2fc7a791"]]),P={props:{answer:Object,index:Number,isSelected:Boolean,isMultiselect:Boolean},methods:{selectAnswer(){this.$emit("selected",this.index)}}},R={class:"answer"},T={key:0,class:"fa-solid fa-check"},G=["href"];function J(t,e,n,m,l,o){return i(),r("div",R,[s("span",{onClick:e[0]||(e[0]=(...a)=>o.selectAnswer&&o.selectAnswer(...a)),class:D(["icon answer-select",{multi:n.isMultiselect}])},[n.isSelected?(i(),r("i",T)):b("",!0)],2),s("span",{onClick:e[1]||(e[1]=(...a)=>o.selectAnswer&&o.selectAnswer(...a)),class:"answerlabel"},_(n.answer.label),1),n.answer.readmore?(i(),r("a",{key:0,class:"button is-ghost readmore-btn",title:"Visit documentation",href:n.answer.readmore,target:"_blank"},e[2]||(e[2]=[s("span",{class:"icon"},[s("i",{class:"fa-regular fa-circle-question"})],-1)]),8,G)):b("",!0)])}const K=p(P,[["render",J],["__scopeId","data-v-8be4d8f9"]]),W={props:{input:Object,variablemap:Object},data(){return{inputval:this.variablemap?this.variablemap[this.input.varname]??"":""}},methods:{inputChange(){this.$emit("selected",this.index)}},watch:{inputval(t,e){this.input.variabletype==="metadata"&&t.matchAll(/\s/g)&&(t=t.replace(/\s+/g,"-").toLowerCase()),this.$emit("updateExtra",this.input.varname,t)}}},X={class:"field is-horizontal"},Y={class:"field-label"},Z={class:"label"},ee={class:"field-body"},te={class:"field"},se={class:"control"},ne=["placeholder"];function ie(t,e,n,m,l,o){return i(),r("div",X,[s("div",Y,[s("label",Z,_(n.input.label),1)]),s("div",ee,[s("div",te,[s("p",se,[E(s("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=a=>l.inputval=a),placeholder:n.input.varname},null,8,ne),[[B,l.inputval,void 0,{trim:!0}]])])])])])}const oe=p(W,[["render",ie]]),ae={props:{input:Object}},re={class:"answer-extra-hint message"},le={key:0,class:"message-header"},ce={class:"message-body"};function ue(t,e,n,m,l,o){return i(),r("div",re,[n.input.title?(i(),r("div",le,[s("span",null,_(n.input.title),1)])):b("",!0),s("div",ce,_(n.input.message),1)])}const de=p(ae,[["render",ue]]),_e={props:{question:Object,answer:Object},methods:{...q(f,["updateAnswerVariableMap"]),updateExtra(t,e){this.updateAnswerVariableMap(this.question,t,e)}},components:{AnswerExtraInput:oe,AnswerExtraHint:de}},pe={class:"answeroption-extras"};function me(t,e,n,m,l,o){const a=d("AnswerExtraInput"),c=d("AnswerExtraHint");return i(),r("div",pe,[(i(!0),r(g,null,x(n.answer.extras,(u,w)=>{var h;return i(),r("div",{key:w,class:"extras"},[u.type==="input"?(i(),$(a,{key:0,input:u,variablemap:(h=n.question.selected)==null?void 0:h.variables,onUpdateExtra:o.updateExtra},null,8,["input","variablemap","onUpdateExtra"])):b("",!0),u.type==="hint"?(i(),$(c,{key:1,input:u},null,8,["input"])):b("",!0)])}),128))])}const he=p(_e,[["render",me],["__scopeId","data-v-b05062e1"]]),ve={components:{DqbAnsweroption:K,DqbAnsweroptionExtras:he},computed:{...y(f,["questions","currentQuestion"])},methods:{...q(f,["setSelected"]),selectAnswer(t,e){this.setSelected(this.currentQuestion,e,t)}}},be={class:"columns is-multiline"},fe={class:"column is-full"},we={class:"questionblock"},$e={class:"question"},ke={class:"answerblock column is-full"},Qe={class:"header"},ge={class:"columns"},qe={class:"answeroption-extras column is-full"};function Ae(t,e,n,m,l,o){var u;const a=d("DqbAnsweroption"),c=d("DqbAnsweroptionExtras");return i(),r(g,null,[s("div",be,[s("div",fe,[s("div",we,[e[0]||(e[0]=s("div",{class:"header"},"Question",-1)),s("div",$e,_(t.currentQuestion.question),1)])]),s("div",ke,[s("div",Qe,_(t.currentQuestion.multiselect?"Choose one or multiple":"Choose one"),1),(i(!0),r(g,null,x(t.currentQuestion.answers,(w,h)=>{var A;return i(),r("div",{class:"answers",key:h},[v(a,{answer:w,index:h,isSelected:((A=t.currentQuestion.selected)==null?void 0:A.index)===h,onSelected:De=>o.selectAnswer(w,h)},null,8,["answer","index","isSelected","onSelected"])])}),128))])]),s("div",ge,[s("div",qe,[t.currentQuestion.selected?(i(),$(c,{key:0,question:t.currentQuestion,answer:t.currentQuestion.answers[(u=t.currentQuestion.selected)==null?void 0:u.index]},null,8,["question","answer"])):b("",!0)])])],64)}const ye=p(ve,[["render",Ae],["__scopeId","data-v-62004bd5"]]),xe={components:{Navigation:z,Question:ye,DataviewQuery:S}};function Se(t,e,n,m,l,o){const a=d("Navigation"),c=d("Question"),u=d("DataviewQuery");return i(),r("main",null,[v(a),v(c),v(a,{"hide-subtitle":"true"}),v(u,{showHighlight:"true",class:"dataviewquery"})])}const Ce=p(xe,[["render",Se],["__scopeId","data-v-19d721cf"]]);export{Ce as default};
