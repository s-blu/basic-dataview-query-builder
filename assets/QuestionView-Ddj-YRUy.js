import{u as w,D as y}from"./dqb-dataviewQuery-Sm6kBaMN.js";import{_ as p,c as f,a as r,w as k,r as $,b as u,o,m as g,d as q,e as s,f as h,g as v,t as _,h as x,v as S,F as Q,i as A}from"./index-O3Q_UTB0.js";const D={props:{disabled:Boolean,to:String,disabledBecause:String},methods:{clicked(){this.$emit("clicked")}}},E=["title"];function B(e,t,n,m,l,i){const a=u("router-link");return!n.disabled&&n.to?(o(),f(a,{key:0,to:n.to||"",class:"button"},{default:k(()=>[$(e.$slots,"default")]),_:3},8,["to"])):n.disabled?(o(),r("button",{key:2,class:"button",disabled:"true",title:n.disabledBecause},[$(e.$slots,"default")],8,E)):(o(),r("button",{key:1,class:"button",onClick:t[0]||(t[0]=(...c)=>i.clicked&&i.clicked(...c))},[$(e.$slots,"default")]))}const C=p(D,[["render",B]]),I={props:["hideSubtitle"],computed:{...q(w,["questionsLength","questions","currentQuestionIndex","currentQuestion","isLastQuestion"]),isFirstQuestion(){return this.currentQuestionIndex===0},currentAnswer(){return this.currentQuestion.selected||{}}},methods:{...g(w,["moveForward","moveBack"]),next(){this.isLastQuestion?this.$router.push("/result"):this.moveForward()||this.$router.push("/result")}},components:{DqbRouterButton:C}},N={class:"navigation columns is-mobile"},L={class:"column"},j={class:"questionprogress column is-centered is-hidden-touch"},F={key:0},O={class:"column"};function V(e,t,n,m,l,i){const a=u("dqb-router-button");return o(),r("nav",N,[s("div",L,[h(a,{onClicked:t[0]||(t[0]=c=>e.moveBack()),disabled:i.isFirstQuestion,disabledBecause:"No previous questions available"},{default:k(()=>[...t[2]||(t[2]=[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-arrow-left"})],-1),s("span",null,"Previous",-1)])]),_:1},8,["disabled"])]),s("div",j,[n.hideSubtitle?v("",!0):(o(),r("span",F,_(e.currentQuestion.subtitle),1))]),s("div",O,[h(a,{onClicked:t[1]||(t[1]=c=>i.next()),disabled:i.currentAnswer.dataview===void 0,disabledBecause:"Please select an answer first!",class:"is-pulled-right"},{default:k(()=>[s("span",null,_(e.isLastQuestion?"Show result":"Next"),1),t[3]||(t[3]=s("span",{class:"icon"},[s("i",{class:"fa-solid fa-arrow-right"})],-1))]),_:1},8,["disabled"])])])}const H=p(I,[["render",V],["__scopeId","data-v-f485a047"]]),M={props:{answer:Object,index:Number,isSelected:Boolean,isMultiselect:Boolean},computed:{readmorelabel(){if(this.answer?.readmorelabel)return this.answer?.readmorelabel;{const e=this.answer?.dataview?.split(" ");return e[0]?.startsWith("{")?"Visit Documentation":`Learn more about ${e[0]}`}}},methods:{selectAnswer(){this.$emit("selected",this.index)}}},U={class:"answer"},P=["checked"],z=["aria-label","title","href"];function R(e,t,n,m,l,i){return o(),r("div",U,[s("label",null,[s("input",{type:"radio",checked:n.isSelected,onClick:t[0]||(t[0]=(...a)=>i.selectAnswer&&i.selectAnswer(...a))},null,8,P),s("span",{onClick:t[1]||(t[1]=(...a)=>i.selectAnswer&&i.selectAnswer(...a)),class:"answerlabel"},_(n.answer.label),1)]),n.answer.readmore?(o(),r("a",{key:0,class:"button is-ghost readmore-btn","aria-label":i.readmorelabel,title:i.readmorelabel,href:n.answer.readmore,target:"_blank"},[...t[2]||(t[2]=[s("span",{class:"icon"},[s("i",{class:"fa-regular fa-circle-question"})],-1)])],8,z)):v("",!0)])}const T=p(M,[["render",R],["__scopeId","data-v-3b9dbdd9"]]),W={props:{input:Object,variablemap:Object},data(){return{inputval:this.variablemap?this.variablemap[this.input.varname]??"":""}},methods:{inputChange(){this.$emit("selected",this.index)}},watch:{inputval(e,t){this.input.variabletype==="metadata"&&e.matchAll(/\s/g)&&(e=e.replace(/\s+/g,"-").toLowerCase()),this.$emit("updateExtra",this.input.varname,e)}}},G={class:"field is-horizontal"},J={class:"field-label"},K={class:"label"},X={class:"field-body"},Y={class:"field"},Z={class:"control"},ee=["placeholder"];function te(e,t,n,m,l,i){return o(),r("div",G,[s("div",J,[s("label",K,_(n.input.label),1)]),s("div",X,[s("div",Y,[s("p",Z,[x(s("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=a=>l.inputval=a),placeholder:n.input.varname},null,8,ee),[[S,l.inputval,void 0,{trim:!0}]])])])])])}const se=p(W,[["render",te]]),ne={props:{input:Object}},ie={class:"answer-extra-hint message"},oe={key:0,class:"message-header"},ae={class:"message-body"};function re(e,t,n,m,l,i){return o(),r("div",ie,[n.input.title?(o(),r("div",oe,[s("span",null,_(n.input.title),1)])):v("",!0),s("div",ae,_(n.input.message),1)])}const le=p(ne,[["render",re],["__scopeId","data-v-388eab9c"]]),ce={props:{question:Object,answer:Object},methods:{...g(w,["updateAnswerVariableMap"]),updateExtra(e,t){this.updateAnswerVariableMap(this.question,e,t)}},components:{AnswerExtraInput:se,AnswerExtraHint:le}},de={class:"answeroption-extras"};function ue(e,t,n,m,l,i){const a=u("AnswerExtraInput"),c=u("AnswerExtraHint");return o(),r("div",de,[(o(!0),r(Q,null,A(n.answer.extras,(d,b)=>(o(),r("div",{key:b,class:"extras"},[d.type==="input"?(o(),f(a,{key:0,input:d,variablemap:n.question.selected?.variables,onUpdateExtra:i.updateExtra},null,8,["input","variablemap","onUpdateExtra"])):v("",!0),d.type==="hint"?(o(),f(c,{key:1,input:d},null,8,["input"])):v("",!0)]))),128))])}const _e=p(ce,[["render",ue],["__scopeId","data-v-b05062e1"]]),pe={components:{DqbAnsweroption:T,DqbAnsweroptionExtras:_e},computed:{...q(w,["questions","currentQuestion"])},methods:{...g(w,["setSelected"]),selectAnswer(e,t){this.setSelected(this.currentQuestion,t,e)}}},me={class:"columns is-multiline"},he={class:"column is-full"},be={class:"questionblock"},ve={class:"question"},we={class:"answerblock column is-full"},fe={class:"header"},$e={class:"columns"},ke={class:"answeroption-extras column is-full"};function Qe(e,t,n,m,l,i){const a=u("DqbAnsweroption"),c=u("DqbAnsweroptionExtras");return o(),r(Q,null,[s("div",me,[s("div",he,[s("div",be,[t[0]||(t[0]=s("div",{class:"header"},"Question",-1)),s("div",ve,_(e.currentQuestion.question),1)])]),s("div",we,[s("div",fe,_(e.currentQuestion.multiselect?"Choose one or multiple":"Choose one"),1),(o(!0),r(Q,null,A(e.currentQuestion.answers,(d,b)=>(o(),r("div",{class:"answers",key:b},[h(a,{answer:d,index:b,isSelected:e.currentQuestion.selected?.index===b,onSelected:ye=>i.selectAnswer(d,b)},null,8,["answer","index","isSelected","onSelected"])]))),128))])]),s("div",$e,[s("div",ke,[e.currentQuestion.selected?(o(),f(c,{key:0,question:e.currentQuestion,answer:e.currentQuestion.answers[e.currentQuestion.selected?.index]},null,8,["question","answer"])):v("",!0)])])],64)}const ge=p(pe,[["render",Qe],["__scopeId","data-v-fcce3d97"]]),qe={components:{Navigation:H,Question:ge,DataviewQuery:y}};function Ae(e,t,n,m,l,i){const a=u("Navigation"),c=u("Question"),d=u("DataviewQuery");return o(),r("main",null,[h(a),h(c),h(a,{"hide-subtitle":"true"}),h(d,{showHighlight:"true",class:"dataviewquery"})])}const De=p(qe,[["render",Ae],["__scopeId","data-v-19d721cf"]]);export{De as default};
