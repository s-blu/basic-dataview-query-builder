import{u as q,D as Q}from"./dqb-dataviewQuery.d4992cde.js";import{_,r,o,c as f,w as x,a as E,b as c,m as D,d as t,e as m,t as u,p as y,f as A,g as v,n as B,h as C,v as j,i as I,F as g,j as N}from"./index.66ade20d.js";const M={props:{disabled:Boolean,to:String,disabledBecause:String}},V=["title"];function O(e,a,n,p,d,s){const i=r("router-link"),h=r("container");return o(),f(h,null,{default:x(()=>[n.disabled?(o(),c("button",{key:1,class:"button",disabled:"true",title:n.disabledBecause},[E(e.$slots,"default")],8,V)):(o(),f(i,{key:0,to:n.to||"",class:"button"},{default:x(()=>[E(e.$slots,"default")]),_:3},8,["to"]))]),_:3})}const L=_(M,[["render",O]]),F={computed:{...D(q,["questionsLength","questions"]),next(){const e=Number(this.$route.params.id);return e<this.questionsLength?`/question/${e+1}`:"/result"},previous(){const e=Number(this.$route.params.id);return e===1?"":`/question/${e-1}`},isFirstQuestion(){return Number(this.$route.params.id)===1},currentAnswer(){return(this.questions[Number(this.$route.params.id)-1]||{}).selected||{}}},components:{DqbRouterButton:L}};const k=e=>(y("data-v-dd80d5c3"),e=e(),A(),e),H={class:"navigation columns is-mobile"},U={class:"column"},z=k(()=>t("span",{class:"icon"},[t("i",{class:"fa-solid fa-arrow-left"})],-1)),P=k(()=>t("span",null,"Previous",-1)),R={class:"questionprogress column is-centered is-hidden-touch"},T={class:"column"},G=k(()=>t("span",{class:"icon"},[t("i",{class:"fa-solid fa-arrow-right"})],-1));function J(e,a,n,p,d,s){const i=r("dqb-router-button");return o(),c("nav",H,[t("div",U,[m(i,{to:s.previous,disabled:s.isFirstQuestion,disabledBecause:"No previous questions available"},{default:x(()=>[z,P]),_:1},8,["to","disabled"])]),t("div",R," Question "+u(Number(e.$route.params.id))+" / "+u(e.questionsLength),1),t("div",T,[m(i,{to:s.next,disabled:s.currentAnswer.dataview===void 0,disabledBecause:"Please select an answer first!",class:"is-pulled-right"},{default:x(()=>[t("span",null,u(s.next==="/result"?"Show result":"Next"),1),G]),_:1},8,["to","disabled"])])])}const K=_(F,[["render",J],["__scopeId","data-v-dd80d5c3"]]),W={props:{answer:Object,index:Number,isSelected:Boolean,isMultiselect:Boolean},methods:{selectAnswer(){this.$emit("selected",this.index)}}};const X=e=>(y("data-v-8be4d8f9"),e=e(),A(),e),Y={class:"answer"},Z={key:0,class:"fa-solid fa-check"},ee=["href"],te=X(()=>t("span",{class:"icon"},[t("i",{class:"fa-regular fa-circle-question"})],-1)),se=[te];function ne(e,a,n,p,d,s){return o(),c("div",Y,[t("span",{onClick:a[0]||(a[0]=(...i)=>s.selectAnswer&&s.selectAnswer(...i)),class:B(["icon answer-select",{multi:n.isMultiselect}])},[n.isSelected?(o(),c("i",Z)):v("",!0)],2),t("span",{onClick:a[1]||(a[1]=(...i)=>s.selectAnswer&&s.selectAnswer(...i)),class:"answerlabel"},u(n.answer.label),1),n.answer.readmore?(o(),c("a",{key:0,class:"button is-ghost readmore-btn",title:"Visit documentation",href:n.answer.readmore,target:"_blank"},se,8,ee)):v("",!0)])}const oe=_(W,[["render",ne],["__scopeId","data-v-8be4d8f9"]]),ae={props:{input:Object,variablemap:Object},data(){var e;return{inputval:this.variablemap&&(e=this.variablemap[this.input.varname])!=null?e:""}},methods:{inputChange(){this.$emit("selected",this.index)}},watch:{inputval(e,a){this.input.variabletype==="metadata"&&e.matchAll(/\s/g)&&(e=e.replace(/\s+/g,"-").toLowerCase()),this.$emit("updateExtra",this.input.varname,e)}}},ie={class:"field is-horizontal"},ce={class:"field-label"},re={class:"label"},de={class:"field-body"},le={class:"field"},ue={class:"control"},_e=["placeholder"];function pe(e,a,n,p,d,s){return o(),c("div",ie,[t("div",ce,[t("label",re,u(n.input.label),1)]),t("div",de,[t("div",le,[t("p",ue,[C(t("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=i=>d.inputval=i),placeholder:n.input.varname},null,8,_e),[[j,d.inputval,void 0,{trim:!0}]])])])])])}const he=_(ae,[["render",pe]]),me={props:{input:Object}},ve={class:"answer-extra-hint message"},be={key:0,class:"message-header"},fe={class:"message-body"};function we(e,a,n,p,d,s){return o(),c("div",ve,[n.input.title?(o(),c("div",be,[t("span",null,u(n.input.title),1)])):v("",!0),t("div",fe,u(n.input.message),1)])}const $e=_(me,[["render",we]]),qe={props:{question:Object,answer:Object},methods:{...I(q,["updateAnswerVariableMap"]),updateExtra(e,a){this.updateAnswerVariableMap(this.question,e,a)}},components:{AnswerExtraInput:he,AnswerExtraHint:$e}};const xe={class:"answeroption-extras"};function ge(e,a,n,p,d,s){const i=r("AnswerExtraInput"),h=r("AnswerExtraHint");return o(),c("div",xe,[(o(!0),c(g,null,N(n.answer.extras,(l,w)=>{var b;return o(),c("div",{key:w,class:"extras"},[l.type==="input"?(o(),f(i,{key:0,input:l,variablemap:(b=n.question.selected)==null?void 0:b.variables,onUpdateExtra:s.updateExtra},null,8,["input","variablemap","onUpdateExtra"])):v("",!0),l.type==="hint"?(o(),f(h,{key:1,input:l},null,8,["input"])):v("",!0)])}),128))])}const ye=_(qe,[["render",ge],["__scopeId","data-v-b05062e1"]]),Ae={components:{DqbAnsweroption:oe,DqbAnsweroptionExtras:ye},computed:{...D(q,["questions"]),question(){return this.questions[this.$route.params.id-1]}},methods:{...I(q,["setSelected"]),selectAnswer(e,a){this.setSelected(this.question,a,e)}}};const ke=e=>(y("data-v-7b3c6c23"),e=e(),A(),e),Se={class:"columns is-multiline"},Ee={class:"column is-full"},De={class:"questionblock"},Ie=ke(()=>t("div",{class:"header"},"Question",-1)),Ne={class:"question"},Qe={class:"answerblock column is-full"},Be={class:"header"},Ce={class:"columns"},je={class:"answeroption-extras column is-full"};function Me(e,a,n,p,d,s){var l,w;const i=r("DqbAnsweroption"),h=r("DqbAnsweroptionExtras");return o(),c(g,null,[t("div",Se,[t("div",Ee,[t("div",De,[Ie,t("div",Ne,u(s.question.question),1)])]),t("div",Qe,[t("div",Be,u(s.question.multiselect?"Choose one or multiple":"Choose one"),1),(o(!0),c(g,null,N(s.question.answers,(b,$)=>{var S;return o(),c("div",{class:"answers",key:$},[m(i,{answer:b,index:$,isSelected:((S=s.question.selected)==null?void 0:S.index)===$,isMultiselect:s.question.multiselect,onSelected:Fe=>s.selectAnswer(b,$)},null,8,["answer","index","isSelected","isMultiselect","onSelected"])])}),128))])]),t("div",Ce,[t("div",je,[(l=s.question.selected)!=null&&l.index?(o(),f(h,{key:0,question:s.question,answer:s.question.answers[(w=s.question.selected)==null?void 0:w.index]},null,8,["question","answer"])):v("",!0)])])],64)}const Ve=_(Ae,[["render",Me],["__scopeId","data-v-7b3c6c23"]]),Oe={components:{Navigation:K,Question:Ve,DataviewQuery:Q}};function Le(e,a,n,p,d,s){const i=r("Navigation"),h=r("Question"),l=r("DataviewQuery");return o(),c("main",null,[m(i),m(h,{class:"question"}),m(l,{class:"dataviewquery"})])}const ze=_(Oe,[["render",Le],["__scopeId","data-v-dffae15c"]]);export{ze as default};
