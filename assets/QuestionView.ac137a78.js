import{u as f,D as I}from"./dqb-dataviewQuery.188f690a.js";import{_ as p,r as l,o,c as w,w as y,a as k,b as c,m as E,d as g,e as t,f as v,t as _,g as b,p as q,h as x,n as B,i as C,v as N,F as Q,j as D}from"./index.5bb112a0.js";const j={props:{disabled:Boolean,to:String,disabledBecause:String},methods:{clicked(){this.$emit("clicked")}}},V=["title"];function F(e,n,s,h,d,i){const a=l("router-link"),u=l("container");return o(),w(u,null,{default:y(()=>[!s.disabled&&s.to?(o(),w(a,{key:0,to:s.to||"",class:"button"},{default:y(()=>[k(e.$slots,"default")]),_:3},8,["to"])):s.disabled?(o(),c("button",{key:2,class:"button",disabled:"true",title:s.disabledBecause},[k(e.$slots,"default")],8,V)):(o(),c("button",{key:1,class:"button",onClick:n[0]||(n[0]=(...r)=>i.clicked&&i.clicked(...r))},[k(e.$slots,"default")]))]),_:3})}const L=p(j,[["render",F]]),O={props:["hideSubtitle"],computed:{...E(f,["questionsLength","questions","currentQuestionIndex","currentQuestion","isLastQuestion"]),isFirstQuestion(){return this.currentQuestionIndex===0},currentAnswer(){return this.currentQuestion.selected||{}}},methods:{...g(f,["moveForward","moveBack"]),next(){this.isLastQuestion?this.$router.push("/result"):this.moveForward()||this.$router.push("/result")}},components:{DqbRouterButton:L}};const A=e=>(q("data-v-52bddeb3"),e=e(),x(),e),M={class:"navigation columns is-mobile"},H={class:"column"},U=A(()=>t("span",{class:"icon"},[t("i",{class:"fa-solid fa-arrow-left"})],-1)),z=A(()=>t("span",null,"Previous",-1)),P={class:"questionprogress column is-centered is-hidden-touch"},R={key:0},T={class:"column"},G=A(()=>t("span",{class:"icon"},[t("i",{class:"fa-solid fa-arrow-right"})],-1));function J(e,n,s,h,d,i){const a=l("dqb-router-button");return o(),c("nav",M,[t("div",H,[v(a,{onClicked:n[0]||(n[0]=u=>e.moveBack()),disabled:i.isFirstQuestion,disabledBecause:"No previous questions available"},{default:y(()=>[U,z]),_:1},8,["disabled"])]),t("div",P,[s.hideSubtitle?b("",!0):(o(),c("span",R,_(e.currentQuestion.subtitle),1))]),t("div",T,[v(a,{onClicked:n[1]||(n[1]=u=>i.next()),disabled:i.currentAnswer.dataview===void 0,disabledBecause:"Please select an answer first!",class:"is-pulled-right"},{default:y(()=>[t("span",null,_(e.isLastQuestion?"Show result":"Next"),1),G]),_:1},8,["disabled"])])])}const K=p(O,[["render",J],["__scopeId","data-v-52bddeb3"]]),W={props:{answer:Object,index:Number,isSelected:Boolean,isMultiselect:Boolean},methods:{selectAnswer(){this.$emit("selected",this.index)}}};const X=e=>(q("data-v-8be4d8f9"),e=e(),x(),e),Y={class:"answer"},Z={key:0,class:"fa-solid fa-check"},ee=["href"],te=X(()=>t("span",{class:"icon"},[t("i",{class:"fa-regular fa-circle-question"})],-1)),se=[te];function ne(e,n,s,h,d,i){return o(),c("div",Y,[t("span",{onClick:n[0]||(n[0]=(...a)=>i.selectAnswer&&i.selectAnswer(...a)),class:B(["icon answer-select",{multi:s.isMultiselect}])},[s.isSelected?(o(),c("i",Z)):b("",!0)],2),t("span",{onClick:n[1]||(n[1]=(...a)=>i.selectAnswer&&i.selectAnswer(...a)),class:"answerlabel"},_(s.answer.label),1),s.answer.readmore?(o(),c("a",{key:0,class:"button is-ghost readmore-btn",title:"Visit documentation",href:s.answer.readmore,target:"_blank"},se,8,ee)):b("",!0)])}const oe=p(W,[["render",ne],["__scopeId","data-v-8be4d8f9"]]),ie={props:{input:Object,variablemap:Object},data(){var e;return{inputval:this.variablemap&&(e=this.variablemap[this.input.varname])!=null?e:""}},methods:{inputChange(){this.$emit("selected",this.index)}},watch:{inputval(e,n){this.input.variabletype==="metadata"&&e.matchAll(/\s/g)&&(e=e.replace(/\s+/g,"-").toLowerCase()),this.$emit("updateExtra",this.input.varname,e)}}},ae={class:"field is-horizontal"},ce={class:"field-label"},re={class:"label"},le={class:"field-body"},de={class:"field"},ue={class:"control"},_e=["placeholder"];function pe(e,n,s,h,d,i){return o(),c("div",ae,[t("div",ce,[t("label",re,_(s.input.label),1)]),t("div",le,[t("div",de,[t("p",ue,[C(t("input",{class:"input","onUpdate:modelValue":n[0]||(n[0]=a=>d.inputval=a),placeholder:s.input.varname},null,8,_e),[[N,d.inputval,void 0,{trim:!0}]])])])])])}const he=p(ie,[["render",pe]]),me={props:{input:Object}},ve={class:"answer-extra-hint message"},be={key:0,class:"message-header"},fe={class:"message-body"};function we(e,n,s,h,d,i){return o(),c("div",ve,[s.input.title?(o(),c("div",be,[t("span",null,_(s.input.title),1)])):b("",!0),t("div",fe,_(s.input.message),1)])}const $e=p(me,[["render",we]]),ye={props:{question:Object,answer:Object},methods:{...g(f,["updateAnswerVariableMap"]),updateExtra(e,n){this.updateAnswerVariableMap(this.question,e,n)}},components:{AnswerExtraInput:he,AnswerExtraHint:$e}};const ke={class:"answeroption-extras"};function Qe(e,n,s,h,d,i){const a=l("AnswerExtraInput"),u=l("AnswerExtraHint");return o(),c("div",ke,[(o(!0),c(Q,null,D(s.answer.extras,(r,$)=>{var m;return o(),c("div",{key:$,class:"extras"},[r.type==="input"?(o(),w(a,{key:0,input:r,variablemap:(m=s.question.selected)==null?void 0:m.variables,onUpdateExtra:i.updateExtra},null,8,["input","variablemap","onUpdateExtra"])):b("",!0),r.type==="hint"?(o(),w(u,{key:1,input:r},null,8,["input"])):b("",!0)])}),128))])}const ge=p(ye,[["render",Qe],["__scopeId","data-v-b05062e1"]]),qe={components:{DqbAnsweroption:oe,DqbAnsweroptionExtras:ge},computed:{...E(f,["questions","currentQuestion"])},methods:{...g(f,["setSelected"]),selectAnswer(e,n){this.setSelected(this.currentQuestion,n,e)}}};const xe=e=>(q("data-v-56b6a1af"),e=e(),x(),e),Ae={class:"columns is-multiline"},Se={class:"column is-full"},Ee={class:"questionblock"},De=xe(()=>t("div",{class:"header"},"Question",-1)),Ie={class:"question"},Be={class:"answerblock column is-full"},Ce={class:"header"},Ne={class:"columns"},je={class:"answeroption-extras column is-full"};function Ve(e,n,s,h,d,i){var r;const a=l("DqbAnsweroption"),u=l("DqbAnsweroptionExtras");return o(),c(Q,null,[t("div",Ae,[t("div",Se,[t("div",Ee,[De,t("div",Ie,_(e.currentQuestion.question),1)])]),t("div",Be,[t("div",Ce,_(e.currentQuestion.multiselect?"Choose one or multiple":"Choose one"),1),(o(!0),c(Q,null,D(e.currentQuestion.answers,($,m)=>{var S;return o(),c("div",{class:"answers",key:m},[v(a,{answer:$,index:m,isSelected:((S=e.currentQuestion.selected)==null?void 0:S.index)===m,onSelected:Me=>i.selectAnswer($,m)},null,8,["answer","index","isSelected","onSelected"])])}),128))])]),t("div",Ne,[t("div",je,[e.currentQuestion.selected?(o(),w(u,{key:0,question:e.currentQuestion,answer:e.currentQuestion.answers[(r=e.currentQuestion.selected)==null?void 0:r.index]},null,8,["question","answer"])):b("",!0)])])],64)}const Fe=p(qe,[["render",Ve],["__scopeId","data-v-56b6a1af"]]),Le={components:{Navigation:K,Question:Fe,DataviewQuery:I}};function Oe(e,n,s,h,d,i){const a=l("Navigation"),u=l("Question"),r=l("DataviewQuery");return o(),c("main",null,[v(a),v(u,{class:"question"}),v(a,{"hide-subtitle":"true"}),v(r,{showHighlight:"true",class:"dataviewquery"})])}const ze=p(Le,[["render",Oe],["__scopeId","data-v-e470e3e6"]]);export{ze as default};
