import{u as $,D as Q}from"./dqb-dataviewQuery.cf3f9cc1.js";import{m as E,_,r as d,o as a,c,a as s,b as h,w as S,t as l,p as g,d as y,e as m,n as N,f as C,v as M,g as I,F as q,h as D,i as x}from"./index.79b1b3a0.js";const V={computed:{...E($,["questionsLength"]),next(){const e=Number(this.$route.params.id);return e<this.questionsLength?`/question/${e+1}`:"/result"},previous(){const e=Number(this.$route.params.id);return e===1?"":`/question/${e-1}`}}};const A=e=>(g("data-v-c4392530"),e=e(),y(),e),j={class:"navigation columns"},B={class:"column is-2"},O=A(()=>s("span",{class:"icon"},[s("i",{class:"fa-solid fa-arrow-left"})],-1)),L=A(()=>s("span",null,"Previous",-1)),H={class:"questionprogress column is-centered"},U={class:"column is-2"},z=A(()=>s("span",{class:"icon"},[s("i",{class:"fa-solid fa-arrow-right"})],-1));function F(e,o,n,p,u,t){const i=d("router-link");return a(),c("nav",j,[s("div",B,[h(i,{to:t.previous,class:"button"},{default:S(()=>[O,L]),_:1},8,["to"])]),s("div",H," Question "+l(Number(e.$route.params.id))+" / "+l(e.questionsLength),1),s("div",U,[h(i,{to:t.next,class:"button is-pulled-right"},{default:S(()=>[s("span",null,l(t.next==="/result"?"Show result":"Next"),1),z]),_:1},8,["to"])])])}const P=_(V,[["render",F],["__scopeId","data-v-c4392530"]]),T={props:{answer:Object,index:Number,isSelected:Boolean,isMultiselect:Boolean},methods:{selectAnswer(){this.$emit("selected",this.index)}}};const G=e=>(g("data-v-8be4d8f9"),e=e(),y(),e),J={class:"answer"},K={key:0,class:"fa-solid fa-check"},R=["href"],W=G(()=>s("span",{class:"icon"},[s("i",{class:"fa-regular fa-circle-question"})],-1)),X=[W];function Y(e,o,n,p,u,t){return a(),c("div",J,[s("span",{onClick:o[0]||(o[0]=(...i)=>t.selectAnswer&&t.selectAnswer(...i)),class:N(["icon answer-select",{multi:n.isMultiselect}])},[n.isSelected?(a(),c("i",K)):m("",!0)],2),s("span",{onClick:o[1]||(o[1]=(...i)=>t.selectAnswer&&t.selectAnswer(...i)),class:"answerlabel"},l(n.answer.label),1),n.answer.readmore?(a(),c("a",{key:0,class:"button is-ghost readmore-btn",title:"Visit documentation",href:n.answer.readmore,target:"_blank"},X,8,R)):m("",!0)])}const Z=_(T,[["render",Y],["__scopeId","data-v-8be4d8f9"]]),ee={props:{input:Object,variablemap:Object},data(){var e;return{inputval:this.variablemap&&(e=this.variablemap[this.input.varname])!=null?e:""}},methods:{inputChange(){this.$emit("selected",this.index)}},watch:{inputval(e,o){this.input.variabletype==="metadata"&&e.matchAll(/\s/g)&&(e=e.replace(/\s+/g,"-").toLowerCase()),this.$emit("updateExtra",this.input.varname,e)}}},se={class:"field is-horizontal"},te={class:"field-label"},ne={class:"label"},oe={class:"field-body"},ae={class:"field"},ie={class:"control"},ce=["placeholder"];function re(e,o,n,p,u,t){return a(),c("div",se,[s("div",te,[s("label",ne,l(n.input.label),1)]),s("div",oe,[s("div",ae,[s("p",ie,[C(s("input",{class:"input","onUpdate:modelValue":o[0]||(o[0]=i=>u.inputval=i),placeholder:n.input.varname},null,8,ce),[[M,u.inputval,void 0,{trim:!0}]])])])])])}const le=_(ee,[["render",re]]),ue={props:{input:Object}},de={class:"answer-extra-hint message"},_e={key:0,class:"message-header"},pe={class:"message-body"};function he(e,o,n,p,u,t){return a(),c("div",de,[n.input.title?(a(),c("div",_e,[s("span",null,l(n.input.title),1)])):m("",!0),s("div",pe,l(n.input.message),1)])}const me=_(ue,[["render",he]]),ve={props:{question:Object,answer:Object},methods:{...I($,["updateAnswerVariableMap"]),updateExtra(e,o){this.updateAnswerVariableMap(this.question,e,o)}},components:{AnswerExtraInput:le,AnswerExtraHint:me}};const we={class:"answeroption-extras"};function be(e,o,n,p,u,t){const i=d("AnswerExtraInput"),v=d("AnswerExtraHint");return a(),c("div",we,[(a(!0),c(q,null,D(n.answer.extras,(r,b)=>{var w;return a(),c("div",{key:b,class:"extras"},[r.type==="input"?(a(),x(i,{key:0,input:r,variablemap:(w=n.question.selected)==null?void 0:w.variables,onUpdateExtra:t.updateExtra},null,8,["input","variablemap","onUpdateExtra"])):m("",!0),r.type==="hint"?(a(),x(v,{key:1,input:r},null,8,["input"])):m("",!0)])}),128))])}const fe=_(ve,[["render",be],["__scopeId","data-v-b05062e1"]]),$e={components:{DqbAnsweroption:Z,DqbAnsweroptionExtras:fe},computed:{...E($,["questions"]),question(){return this.questions[this.$route.params.id-1]}},methods:{...I($,["setSelected"]),selectAnswer(e,o){this.setSelected(this.question,o,e)}}};const qe=e=>(g("data-v-7b3c6c23"),e=e(),y(),e),xe={class:"columns is-multiline"},ge={class:"column is-full"},ye={class:"questionblock"},Ae=qe(()=>s("div",{class:"header"},"Question",-1)),ke={class:"question"},Se={class:"answerblock column is-full"},Ee={class:"header"},Ie={class:"columns"},De={class:"answeroption-extras column is-full"};function Qe(e,o,n,p,u,t){var r,b;const i=d("DqbAnsweroption"),v=d("DqbAnsweroptionExtras");return a(),c(q,null,[s("div",xe,[s("div",ge,[s("div",ye,[Ae,s("div",ke,l(t.question.question),1)])]),s("div",Se,[s("div",Ee,l(t.question.multiselect?"Choose one or multiple":"Choose one"),1),(a(!0),c(q,null,D(t.question.answers,(w,f)=>{var k;return a(),c("div",{class:"answers",key:f},[h(i,{answer:w,index:f,isSelected:((k=t.question.selected)==null?void 0:k.index)===f,isMultiselect:t.question.multiselect,onSelected:Ve=>t.selectAnswer(w,f)},null,8,["answer","index","isSelected","isMultiselect","onSelected"])])}),128))])]),s("div",Ie,[s("div",De,[(r=t.question.selected)!=null&&r.index?(a(),x(v,{key:0,question:t.question,answer:t.question.answers[(b=t.question.selected)==null?void 0:b.index]},null,8,["question","answer"])):m("",!0)])])],64)}const Ne=_($e,[["render",Qe],["__scopeId","data-v-7b3c6c23"]]),Ce={components:{Navigation:P,Question:Ne,DataviewQuery:Q}};function Me(e,o,n,p,u,t){const i=d("Navigation"),v=d("Question"),r=d("DataviewQuery");return a(),c("main",null,[h(i),h(v,{class:"question"}),h(r,{class:"dataviewquery"})])}const Oe=_(Ce,[["render",Me],["__scopeId","data-v-dffae15c"]]);export{Oe as default};
