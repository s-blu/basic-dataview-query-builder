import{u as f,D as B}from"./dqb-dataviewQuery.621fc3d3.js";import{_ as p,r as l,o,c as w,w as Q,a as k,b as c,m as D,d as q,e as t,f as m,t as _,g as v,p as x,h as A,n as C,i as N,v as j,F as g,j as I}from"./index.dc3a27a5.js";const M={props:{disabled:Boolean,to:String,disabledBecause:String},methods:{clicked(){this.$emit("clicked")}}},V=["title"];function F(e,n,s,h,d,i){const a=l("router-link"),u=l("container");return o(),w(u,null,{default:Q(()=>[!s.disabled&&s.to?(o(),w(a,{key:0,to:s.to||"",class:"button"},{default:Q(()=>[k(e.$slots,"default")]),_:3},8,["to"])):s.disabled?(o(),c("button",{key:2,class:"button",disabled:"true",title:s.disabledBecause},[k(e.$slots,"default")],8,V)):(o(),c("button",{key:1,class:"button",onClick:n[0]||(n[0]=(...r)=>i.clicked&&i.clicked(...r))},[k(e.$slots,"default")]))]),_:3})}const L=p(M,[["render",F]]),O={props:["hideSubtitle"],computed:{...D(f,["questionsLength","questions","currentQuestionIndex","currentQuestion","isLastQuestion"]),isFirstQuestion(){return this.currentQuestionIndex===0},currentAnswer(){return this.currentQuestion.selected||{}}},methods:{...q(f,["moveForward","moveBack"]),next(){this.isLastQuestion?this.$router.push("/result"):this.moveForward()||this.$router.push("/result")}},components:{DqbRouterButton:L}};const S=e=>(x("data-v-52bddeb3"),e=e(),A(),e),H={class:"navigation columns is-mobile"},U={class:"column"},z=S(()=>t("span",{class:"icon"},[t("i",{class:"fa-solid fa-arrow-left"})],-1)),P=S(()=>t("span",null,"Previous",-1)),R={class:"questionprogress column is-centered is-hidden-touch"},T={key:0},G={class:"column"},J=S(()=>t("span",{class:"icon"},[t("i",{class:"fa-solid fa-arrow-right"})],-1));function K(e,n,s,h,d,i){const a=l("dqb-router-button");return o(),c("nav",H,[t("div",U,[m(a,{onClicked:n[0]||(n[0]=u=>e.moveBack()),disabled:i.isFirstQuestion,disabledBecause:"No previous questions available"},{default:Q(()=>[z,P]),_:1},8,["disabled"])]),t("div",R,[s.hideSubtitle?v("",!0):(o(),c("span",T,_(e.currentQuestion.subtitle),1))]),t("div",G,[m(a,{onClicked:n[1]||(n[1]=u=>i.next()),disabled:i.currentAnswer.dataview===void 0,disabledBecause:"Please select an answer first!",class:"is-pulled-right"},{default:Q(()=>[t("span",null,_(e.isLastQuestion?"Show result":"Next"),1),J]),_:1},8,["disabled"])])])}const W=p(O,[["render",K],["__scopeId","data-v-52bddeb3"]]),X={props:{answer:Object,index:Number,isSelected:Boolean,isMultiselect:Boolean},methods:{selectAnswer(){this.$emit("selected",this.index)}}};const Y=e=>(x("data-v-8be4d8f9"),e=e(),A(),e),Z={class:"answer"},ee={key:0,class:"fa-solid fa-check"},te=["href"],se=Y(()=>t("span",{class:"icon"},[t("i",{class:"fa-regular fa-circle-question"})],-1)),ne=[se];function oe(e,n,s,h,d,i){return o(),c("div",Z,[t("span",{onClick:n[0]||(n[0]=(...a)=>i.selectAnswer&&i.selectAnswer(...a)),class:C(["icon answer-select",{multi:s.isMultiselect}])},[s.isSelected?(o(),c("i",ee)):v("",!0)],2),t("span",{onClick:n[1]||(n[1]=(...a)=>i.selectAnswer&&i.selectAnswer(...a)),class:"answerlabel"},_(s.answer.label),1),s.answer.readmore?(o(),c("a",{key:0,class:"button is-ghost readmore-btn",title:"Visit documentation",href:s.answer.readmore,target:"_blank"},ne,8,te)):v("",!0)])}const ie=p(X,[["render",oe],["__scopeId","data-v-8be4d8f9"]]),ae={props:{input:Object,variablemap:Object},data(){var e;return{inputval:this.variablemap&&(e=this.variablemap[this.input.varname])!=null?e:""}},methods:{inputChange(){this.$emit("selected",this.index)}},watch:{inputval(e,n){this.input.variabletype==="metadata"&&e.matchAll(/\s/g)&&(e=e.replace(/\s+/g,"-").toLowerCase()),this.$emit("updateExtra",this.input.varname,e)}}},ce={class:"field is-horizontal"},re={class:"field-label"},le={class:"label"},de={class:"field-body"},ue={class:"field"},_e={class:"control"},pe=["placeholder"];function he(e,n,s,h,d,i){return o(),c("div",ce,[t("div",re,[t("label",le,_(s.input.label),1)]),t("div",de,[t("div",ue,[t("p",_e,[N(t("input",{class:"input","onUpdate:modelValue":n[0]||(n[0]=a=>d.inputval=a),placeholder:s.input.varname},null,8,pe),[[j,d.inputval,void 0,{trim:!0}]])])])])])}const me=p(ae,[["render",he]]),ve={props:{input:Object}},be={class:"answer-extra-hint message"},fe={key:0,class:"message-header"},we={class:"message-body"};function $e(e,n,s,h,d,i){return o(),c("div",be,[s.input.title?(o(),c("div",fe,[t("span",null,_(s.input.title),1)])):v("",!0),t("div",we,_(s.input.message),1)])}const ye=p(ve,[["render",$e]]),Qe={props:{question:Object,answer:Object},methods:{...q(f,["updateAnswerVariableMap"]),updateExtra(e,n){this.updateAnswerVariableMap(this.question,e,n)}},components:{AnswerExtraInput:me,AnswerExtraHint:ye}};const ke={class:"answeroption-extras"};function ge(e,n,s,h,d,i){const a=l("AnswerExtraInput"),u=l("AnswerExtraHint");return o(),c("div",ke,[(o(!0),c(g,null,I(s.answer.extras,(r,$)=>{var b;return o(),c("div",{key:$,class:"extras"},[r.type==="input"?(o(),w(a,{key:0,input:r,variablemap:(b=s.question.selected)==null?void 0:b.variables,onUpdateExtra:i.updateExtra},null,8,["input","variablemap","onUpdateExtra"])):v("",!0),r.type==="hint"?(o(),w(u,{key:1,input:r},null,8,["input"])):v("",!0)])}),128))])}const qe=p(Qe,[["render",ge],["__scopeId","data-v-b05062e1"]]),xe={components:{DqbAnsweroption:ie,DqbAnsweroptionExtras:qe},computed:{...D(f,["questions","currentQuestion"])},methods:{...q(f,["setSelected"]),selectAnswer(e,n){this.setSelected(this.currentQuestion,n,e)}}};const Ae=e=>(x("data-v-9ff8daf9"),e=e(),A(),e),Se={class:"columns is-multiline"},Ee={class:"column is-full"},De={class:"questionblock"},Ie=Ae(()=>t("div",{class:"header"},"Question",-1)),Be={class:"question"},Ce={class:"answerblock column is-full"},Ne={class:"header"},je={class:"columns"},Me={class:"answeroption-extras column is-full"};function Ve(e,n,s,h,d,i){var r,$;const a=l("DqbAnsweroption"),u=l("DqbAnsweroptionExtras");return o(),c(g,null,[t("div",Se,[t("div",Ee,[t("div",De,[Ie,t("div",Be,_(e.currentQuestion.question),1)])]),t("div",Ce,[t("div",Ne,_(e.currentQuestion.multiselect?"Choose one or multiple":"Choose one"),1),(o(!0),c(g,null,I(e.currentQuestion.answers,(b,y)=>{var E;return o(),c("div",{class:"answers",key:y},[m(a,{answer:b,index:y,isSelected:((E=e.currentQuestion.selected)==null?void 0:E.index)===y,isMultiselect:e.currentQuestion.multiselect,onSelected:He=>i.selectAnswer(b,y)},null,8,["answer","index","isSelected","isMultiselect","onSelected"])])}),128))])]),t("div",je,[t("div",Me,[(r=e.currentQuestion.selected)!=null&&r.index?(o(),w(u,{key:0,question:e.currentQuestion,answer:e.currentQuestion.answers[($=e.currentQuestion.selected)==null?void 0:$.index]},null,8,["question","answer"])):v("",!0)])])],64)}const Fe=p(xe,[["render",Ve],["__scopeId","data-v-9ff8daf9"]]),Le={components:{Navigation:W,Question:Fe,DataviewQuery:B}};function Oe(e,n,s,h,d,i){const a=l("Navigation"),u=l("Question"),r=l("DataviewQuery");return o(),c("main",null,[m(a),m(u,{class:"question"}),m(a,{"hide-subtitle":"true"}),m(r,{showHighlight:"true",class:"dataviewquery"})])}const Pe=p(Le,[["render",Oe],["__scopeId","data-v-e470e3e6"]]);export{Pe as default};
